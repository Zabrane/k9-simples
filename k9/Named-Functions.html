<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- December 24, 2020

Copyright (C) 2020 John Estrada -->
<!-- Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Named Functions (Shakti (k9) tutorial)</title>

<meta name="description" content="Named Functions (Shakti (k9) tutorial)">
<meta name="keywords" content="Named Functions (Shakti (k9) tutorial)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<link href="index.html" rel="start" title="Top">
<link href="index.html" rel="up" title="Top">
<link href="Knit-Functions.html" rel="next" title="Knit Functions">
<link href="Expression.html" rel="prev" title="Expression">
<style type="text/css">
<!--
/* spacing */


a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
.cartouche{
    border: none;
    background: lightgrey;
}

table, th, td{
  table-layout: auto;
  border-collapse: collapse;
  border: 1px solid blue;
  font-family: monospace; 
}

th, td {
  padding: 5px;     
  font-family: monospace; 
}

tr:nth-child(1) {
/*    background-color:lightsteelblue; // Replace it with your desired color */
}

.menu{
    border: none;
}

table.menu td{ 
    padding: 1px;
    border: none;
    font-family: sansserif;
}

table.menu th{ 
    padding: 1px;
    border: none;
    font-family: sansserif;
}




-->
</style>


</head>

<body lang="en">
<span id="Named-Functions"></span><div class="header">
<p>
Next: <a href="Knit-Functions.html" accesskey="n" rel="next">Knit Functions</a>, Previous: <a href="Expression.html" accesskey="p" rel="prev">Expression</a>, Up: <a href="index.html" accesskey="u" rel="up">Top</a> &nbsp; </p>
</div>
<hr>
<span id="Named-Functions-1"></span><h2 class="chapter">9 Named Functions</h2>
<p>This chapter covers the built-in  named functions.  This includes some math (eg. sqrt but not +), wrapper (eg. count for #) and range (eg. within) functions.
</p>
<div class="format">
<div class="example">
<pre class="example"><a href="#exp">exp</a> <a href="#log">log</a> <a href="#sin">sin</a> <a href="#cos">cos</a> <a href="#sqr">sqr</a> <a href="#sqrt">sqrt</a> <a href="#div">div</a> <a href="#mod">mod</a> <a href="#bar">bar</a>;
  <a href="#topX">top</a> <a href="#freq">freq</a> <a href="#msum">msum</a> <a href="#mavg">mavg</a> <a href="#sums">sums</a> <a href="#deltas">deltas</a> <a href="#prm">prm</a> <a href="#cmb">cmb</a>
</pre></div>
</div>

<span id="Math-Functions-_21d2-exp-log-sin-cos-sqr-sqrt-div-mod-bar"></span><h3 class="section">9.1 Math Functions &rArr; exp log sin cos sqr sqrt div mod bar</h3>

<span id="exp"></span><span id="exp-_21d2-exp-x"></span><h4 class="subsection">9.1.1 exp &rArr; exp x</h4>
<div class="example">
<pre class="example">&nbsp;exp 1
2.718282
</pre></div>

<span id="log"></span><span id="log-_21d2-log-x"></span><h4 class="subsection">9.1.2 log &rArr; log x</h4>
<p>Log computes the natural log.
</p>
<div class="example">
<pre class="example">&nbsp;log 10
2.302585
</pre></div>

<span id="sin"></span><span id="sin-_21d2-sin-x"></span><h4 class="subsection">9.1.3 sin &rArr; sin x</h4>
<p>sin computes the sine of x where x is in radians.
</p><div class="example">
<pre class="example">&nbsp;sin 0
0f
&nbsp;sin 3.1416%2
1.
</pre></div>

<span id="cos"></span><span id="cos-_21d2-cos-x"></span><h4 class="subsection">9.1.4 cos &rArr; cos x</h4>
<p>cos computes the cosine of x where x is in radians.
</p><div class="example">
<pre class="example">&nbsp;cos 0
1f
&nbsp;cos 3.1416%4
0.7071055
</pre></div>

<span id="sqr"></span><span id="sqr-_21d2-sqr-x"></span><h4 class="subsection">9.1.5 sqr &rArr; sqr x</h4>
<div class="example">
<pre class="example">&nbsp;sqr 2
4.0
</pre></div>

<span id="sqrt"></span><span id="sqrt-_21d2-sqrt-x"></span><h4 class="subsection">9.1.6 sqrt &rArr; sqrt x</h4>
<div class="example">
<pre class="example">&nbsp;sqrt 2
1.414214
</pre></div>

<span id="div"></span><span id="div-_21d2-x-div-y"></span><h4 class="subsection">9.1.7 div &rArr; x div y</h4>
<p>y divided by x using integer division, taking the floor of the result.  x and y must be integers.
</p>
<div class="example">
<pre class="example">&nbsp;2 div 7
3
&nbsp;5 div 22
4
</pre></div>

<span id="mod"></span><span id="mod-_21d2-x-mod-y"></span><h4 class="subsection">9.1.8 mod &rArr; x mod y</h4>
<p>The remainder after y divided by x using integer division.  x and y must be integers.
</p>
<div class="example">
<pre class="example">&nbsp;12 mod 27
3
&nbsp;5 mod 22
2
</pre></div>

<span id="bar"></span><span id="bar-_21d2-x-bar-y"></span><h4 class="subsection">9.1.9 bar &rArr; x bar y</h4>
<p>For each value in y determine the maximum multiple of x that is less than or equal to each y.
</p>
<div class="example">
<pre class="example">&nbsp;10 bar 9 10 11 19 20 21
0 10 10 10 20 20
</pre></div>

<span id="Helper-Functions-_21d2-top-freq-msum-mavg-sums-deltas-prm-cmb"></span><h3 class="section">9.2 Helper Functions &rArr; top freq msum mavg sums deltas prm cmb</h3>

<span id="topX"></span><span id="top-_21d2-top-x"></span><h4 class="subsection">9.2.1 top &rArr; top x</h4>
<p>Return the index of the max value of list x.
</p>
<div class="example">
<pre class="example"> top 3 13 15 1 17 0 -3
4

top &quot;abzccdefeajfekjrlke&quot;
2
</pre></div>

<span id="freq"></span><span id="freq-_21d2-freq-x"></span><h4 class="subsection">9.2.2 freq &rArr; freq x</h4>
<p>Compute the frequency of the items in list x.
</p>
<div class="example">
<pre class="example"> freq &quot;abzccdefeajfekjrlke&quot;
a|2
b|1
c|2
d|1
e|4
f|2
j|2
k|2
l|1
r|1
z|1

 freq 1000?10
0| 95
1|106
2| 84
3| 98
4|109
5|104
6| 94
7| 95
8|120
9| 95
</pre></div>

<span id="msum"></span><span id="msum-_21d2-x-msum-y"></span><h4 class="subsection">9.2.3 msum &rArr; x msum y</h4>
<p>Compute the length x  moving sum of list y.
</p>
<div class="example">
<pre class="example"> 3 msum !10
0 1 3 6 9 12 15 18 21 24
</pre></div>


<span id="mavg"></span><span id="mavg-_21d2-x-mavg-y"></span><h4 class="subsection">9.2.4 mavg &rArr; x mavg y</h4>
<p>Compute the length x  moving average of list y.
</p>
<div class="example">
<pre class="example"> 3 mavg !10
0 0.3333333 1 2 3 4 5 6 7 8
</pre></div>

<span id="sums"></span><span id="sums-_21d2-sums-x"></span><h4 class="subsection">9.2.5 sums &rArr; sums x</h4>
<p>Compute the running sum of list x.  Sames as <code>+\</code>.
</p>
<div class="example">
<pre class="example"> sums !10
0 1 3 6 10 15 21 28 36 45
</pre></div>

<span id="deltas"></span><span id="deltas-_21d2-deltas-x-and-x-deltas-y"></span><h4 class="subsection">9.2.6 deltas &rArr; deltas x and x deltas y</h4>
<p>Compute the difference between each element in list x and the previous value.  If delta is called with two parameters then x will be used as the first value to delta instead of the default 0.
</p>
<div class="example">
<pre class="example"> deltas 1 5 10
1 4 5

 1 deltas 1 5 10
0 4 5
</pre></div>

<span id="prm"></span><span id="prm-_21d2-prm-x"></span><h4 class="subsection">9.2.7 prm &rArr; prm x</h4>
<p>Write out all permutations of integers up x-1. Display them as columns.
</p>
<div class="example">
<pre class="example"> prm 3
0 1 1 0 2 2
1 0 2 2 0 1
2 2 0 1 1 0
</pre></div>

<span id="cmb"></span><span id="cmb-_21d2-x-cmb-y"></span><h4 class="subsection">9.2.8 cmb &rArr; x cmb y</h4>
<p>Determine all x value combinations up to y. In this case these are ordered in ascending order from left to right.
</p>
<div class="example">
<pre class="example"> 3 cmb 5
2 3 4
1 3 4
1 2 4
1 2 3
0 3 4
0 2 4
0 2 3
0 1 4
0 1 3
0 1 2

 `a`b`c`d`e@3 cmb 5
`c`d`e
`b`d`e
`b`c`e
`b`c`d
`a`d`e
`a`c`e
`a`c`d
`a`b`e
`a`b`d
`a`b`c
</pre></div>

<span id="Range-Functions-_21d2-key-unkey-meta-in-bin-within"></span><h3 class="section">9.3 Range Functions &rArr; key unkey meta in bin within</h3>

<span id="keyF"></span><span id="key-_21d2-x-key-y"></span><h4 class="subsection">9.3.1 key &rArr; x key y</h4>
<p>Key table y with x. That is, the values in the x column become the key values.
</p>
<div class="example">
<pre class="example"> `a key [[]a:`fa`fb;b:1 2]
a |b
--|-
fa|1
fb|2

 `a key [[]a:`fa`fb;b:((1 2 3); (4 5 6))]
a |b    
--|-----
fa|1 2 3
fb|4 5 6
</pre></div>

<span id="unkey"></span><span id="unkey-_21d2-unkey-x"></span><h4 class="subsection">9.3.2 unkey &rArr; unkey x</h4>
<p>Remove key from table x.
</p>
<div class="example">
<pre class="example"> unkey [[a:`x`y]b:1 2]
a b
- -
x 1
y 2
</pre></div>

<span id="meta"></span><span id="meta-_21d2-meta"></span><h4 class="subsection">9.3.3 meta &rArr; meta</h4>
<p>Determine the types of the fields in a table.
</p>
<div class="example">
<pre class="example"> meta [[]a:`x`y;b:1 2]
a|n
b|i
</pre></div>

<span id="in"></span><span id="in-_21d2-x-in-y"></span><h4 class="subsection">9.3.4 in &rArr; x in y</h4>
<p>Determine if x is in list y.  </p>
<div class="example">
<pre class="example">&nbsp;`b in `a`b`d`e
1b
&nbsp;`c in `a`b`d`e
0b
</pre></div>

<span id="bin"></span><span id="bin-_21d2-x-bin-y"></span><h4 class="subsection">9.3.5 bin &rArr; x bin y</h4>
<p>Given a sorted (increasing) list x, find the greatest index, i, where y&gt;x[i].
</p>
<div class="example">
<pre class="example">&nbsp;n:exp 0.01*!5;n
1 1.01005 1.020201 1.030455 1.040811
&nbsp;1.025 bin n
2
</pre></div>

<span id="within"></span><span id="within-_21d2-x-within-y"></span><h4 class="subsection">9.3.6 within &rArr; x within y</h4>
<p>Test if x is equal to or greater than y[0] and less than y[1].
</p>
<div class="example">
<pre class="example"> 3 within 0 12
1b

0 within 0 12
1b

12 within 0 12
0b

23 within 0 12
0b
</pre></div>

<hr>
<div class="header">
<p>
Next: <a href="Knit-Functions.html" accesskey="n" rel="next">Knit Functions</a>, Previous: <a href="Expression.html" accesskey="p" rel="prev">Expression</a>, Up: <a href="index.html" accesskey="u" rel="up">Top</a> &nbsp; </p>
</div>



</body>
</html>
